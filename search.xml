<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>渴奈</title>
    <url>/post/2009-06-11-thirsty-chennai/</url>
    <content><![CDATA[<p>误入海湖</p>
<p>满是奇异珊瑚</p>
<p>我的贪图</p>
<p>却被礁石抵触</p>
<span id="more"></span>

<p>该是退出</p>
<p>还是华丽地守护</p>
<p>只能轻诉</p>
<p>无缘俘虏默契的归宿</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>傻傻的小九九</title>
    <url>/post/2009-06-20-silly-in-of-of-small-ninety/</url>
    <content><![CDATA[<p>我躲在黑暗角落，静默地看着灯光下的你四处张望，那般焦急，那般不安，我却像个傻傻小孩，心里开出一朵绚烂硕大的花。</p>
<p>终于你还是把我找到，斥骂到，小鬼，你待这里干嘛！害我到处找你！我偷偷咯咯地笑，嗅到热热的空气里有丝在乎的香甜味道。</p>
<span id="more"></span>

<p>想要做成永不变质的巧克力，放在我的上衣口袋里。</p>
<p>傻傻的小小孩，你何时才能不傻，何时才能长大呢？</p>
<p>没有答案。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>夏日里跳动的迷离</title>
    <url>/post/2009-08-13-the-blurred-beating-in-the-summer/</url>
    <content><![CDATA[<p>一夏接一夏地从人生命中轻轻溜走，如徐志摩《再别康桥》中的轻轻般。</p>
<p>那些曾经的过客，留下的痕迹，虽无法抹去，却已是回不去的从前。</p>
<p>浓烈的青春，在夏日里挥洒恣意的汗水，夹杂着捋不清的迷离。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>有一只蚂蚱</title>
    <url>/post/2009-08-14-a-grasshopper/</url>
    <content><![CDATA[<p>有一只蚂蚱生活在辽阔的大草原上。可惜他不甘于这豁达的境地，很有野心地想飞去高高的蓝天，幻想用柔软洁白的云做枕。</p>
<p>有想法就得行动起来。</p>
<span id="more"></span>

<p>他把目光从蓝天移开。在前方是一朵比小草高的向日葵，他牟着劲，用力一蹬，正中金黄的花盘。而后是一簇更高的野菊花，不用多说，凭借努力，又成功了。可是，不远处，一丛他最喜欢的果子正红彤彤，娇滴滴地在风中摇曳。他犹豫了。</p>
<p>意料之中的是，那丛果子上多了一个绿色的身影。果子实在是太有诱惑力了，实在是太可口了，他一口连一口。一阵阵打嗝声传来，那是他吃撑了。</p>
<p>路旁有块路牌，上面是个旋转了90度的Z字母和箭头，提示会有Z字型的拐弯。蚂蚱把那当成了去蓝天的阶梯，吃撑的认为。也正因为如此，一个饱嗝让他夭折在在滑翔的中途。继而在嗝声中翻滚于草丛里。</p>
<p>没过多久，他又开始了新的行动。</p>
]]></content>
      <categories>
        <category>随感</category>
      </categories>
  </entry>
  <entry>
    <title>你的照片</title>
    <url>/post/2009-10-24-your-photos/</url>
    <content><![CDATA[<p>你的照片</p>
<p>一张，一张</p>
<p>点点滴滴中</p>
<p>却满是稚嫩的面庞</p>
<br />

<span id="more"></span>

<p>我想</p>
<p>你也是孩子</p>
<p>会该有那些美好的目光</p>
<br />

<p>都逃避着不想长大</p>
<p>只是想和彼此一起享受纯纯的交往</p>
<br />

<p>那些，那些，那些</p>
<p>默默祈祷可以一直携手摆脱断肠</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>酒精随笔</title>
    <url>/post/2009-10-27-alcohol-essays/</url>
    <content><![CDATA[<p>酒后不经意的言语，透露出一个人的真内心。</p>
<p>面上一闪而过的微表情，凸显此时的真情绪。</p>
<p>当你还在彷徨究竟该拿什么样的态度去面对时，它的真真假假，假假真真，在当事人的一觉之后，变得无关紧要。抑或是偶尔闲谈的玩笑把柄罢了。而我偏信于它的真。</p>
<span id="more"></span>

<p>酒精真是个神奇的东西，流经你的身体，也流出了你自己。</p>
<p>一闪而过，稍纵即逝，是用来描述一种很快的状态。快比慢其实更有故事，只是它快得在你还没意识到时就结束了。发掘是纠结的，而我宁愿不要太在意。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>初冬凌晨的随笔</title>
    <url>/post/2009-11-15-early-winter-morning-of-essays/</url>
    <content><![CDATA[<p>我们总是期待，那些出现在自己生命中的某些人，会因为时间的流逝，而有所改变。奈何的是，点点迹象终表明，所有我们熟知的，不但没有改变，而且有愈来愈强势的劲头。上天让不足造就了完美，涌现出了快乐的源泉。尽管快乐是短暂的，可只要不停地去寻找、去获得，就能去往幸福的天堂。</p>
]]></content>
      <categories>
        <category>随感</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log1.1</title>
    <url>/post/2012-03-09-website-optimization-log1-1/</url>
    <content><![CDATA[<p>在写这篇日志的时候，遭遇各种阻碍，首先是网站响应缓慢，估计主机有点不稳定。接着一件坑爹的事情，起身准备烧水的时候，白炽灯炸了，尼玛，吓我一跳。于是只能歇下气来借着台灯光打扫玻璃渣。而后又折腾了很久，才把碎在灯头里的灯泡螺口取出来，换了一个新灯泡后继续开工。</p>
<span id="more"></span>

<p>昨天登陆后台的时候，suffusion又升级了，不得不说，这个作者应该是每天守着它修改。昨晚研究了下前台翻译的方法，具体改日技术贴。</p>
<p>此次优化项目：</p>
<ol>
<li><p>前台大部分翻译；</p>
</li>
<li><p>主题改用子主题的方式，以应对主题升级造成不必要的损失；</p>
</li>
<li><p>导航栏移动至顶部，改单栏式页面。</p>
</li>
</ol>
<p>另外：想添加一个新留言以邮件通知的功能，试过很多次，无果。还有想添加一个向上向下的功能，也是尝试很多次，无果。所以，留给下次优化任务。</p>
<p>本来打算把以前其他博客的文章整合到这里，但是由于还在研究如何备份最好，决定暂时不转移。</p>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>不透</title>
    <url>/post/2010-06-23-impervious/</url>
    <content><![CDATA[<p>不想回去的昨天是回不去的从前。</p>
<br />

<p>那段岁月如胶如蜜，</p>
<p>那段岁月如纱如药，</p>
<p>那段岁月是让人沉迷的人世间。</p>
<span id="more"></span>
<br />

<p>你玩暧昧却又狡辩。</p>
<p>你搞依赖却又装B。</p>
<p>谁能分辨你思维的边。</p>
<p>亦或是你自己都无法走出里面。</p>
<br />

<p>难道你是魅惑人们的伪神仙。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log1.4</title>
    <url>/post/2012-05-20-website-optimization-log1-4/</url>
    <content><![CDATA[<p>wordpress新版本发布以后，一直等待一个合适的时机升级，于是上午折腾了一翻。</p>
<p>此次优化项目：</p>
<ol>
<li><p>wordpress版本更新至3.3.2；</p>
</li>
<li><p>博客移至新二级目录，为以后首页导航做准备；</p>
</li>
</ol>
<p>详情如下：</p>
<span id="more"></span>  

<ol>
<li><p>wordpress版本升级：</p>
<p>1）备份好网站文件和数据库，方法有很多，我是直接在cPanel中备份下载的；</p>
<p>2）停用所有插件，使用默认主题；</p>
<p>3）删除空间里wp-admin和wp-includes两个文件夹；</p>
<p>4）下载wordpress3.3.2，上传除wp-content的其他文件；</p>
<p>5）查看数据库是否升级；</p>
<p>6）检查测试升级后是否存在问题，并一一解决。</p>
</li>
<li><p>更换二级目录：</p>
<p>1）在根目录下新建blog文件夹；</p>
<p>2）复制所有wordpress中的文件至blog文件夹；</p>
<p>3）常规中wordpress URL，把wordpress改成blog；</p>
<p>4）修改根目录下的index.php文件代码，wordpress替换成blog。</p>
<p>P.S. 第3步可能会出现网站无法访问，不用担心。</p>
</li>
</ol>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log1.3</title>
    <url>/post/2012-03-29-website-optimization-log1-3/</url>
    <content><![CDATA[<p>最近每天都有少量连续的小优化工作。</p>
<p>此次优化项目：</p>
<ol>
<li><p>恢复侧边栏，因为小工具置于底部操作不友好；</p>
</li>
<li><p>移除友情链接和分类目录的顶部导航，其中友情链接移至侧边栏；</p>
</li>
<li><p>增加网站地图页面，并添加顶部导航；</p>
</li>
</ol>
<span id="more"></span>  

<ol start="4">
<li><p>增加有趣的时钟小工具至侧边栏；</p>
</li>
<li><p>增加最近评论小工具至侧边栏；</p>
</li>
<li><p>更改分享工具的风格；</p>
</li>
<li><p>更新部分散布在各处博客的旧日志；</p>
</li>
<li><p>修改footer；</p>
</li>
<li><p>修改摘要插件代码；</p>
</li>
<li><p>增加面包屑导航功能；</p>
</li>
<li><p>增加分页导航；</p>
</li>
<li><p>添加文章版权信息。（后取消）</p>
</li>
</ol>
<p>详情如下：</p>
<p>1、2、5、6、8、10略；</p>
<p>3.网站地图是运用主题自带的设置完成的。在没发现这个功能之前，用的是 Dagon Design Sitemap Generator 插件，特别要注意的是，出现前台无反应的情况很有可能是你页面的代码不准确，需要去插件的代码中找到相应的内容；</p>
<p>4.有趣的小时钟是偶然逛别人的个人网站发现的，于是就光明正大地窃取过来了;链接： <a href="http://chabudai.org/blog/?p=59">有趣的小时钟</a>  （日文）</p>
<p>7.更新旧日志的时候，有犹豫一下，毕竟是之前的文字，行文色彩偏暗淡；</p>
<p>9.因为Wordpress默认摘要算法只考虑西方语言，所以采用了为CJK的Wordpress用户提供更好的摘要算法的Yskin’s wp-CJK-excerpt插件；</p>
<p>P.S.插件作者的网页已经失效，特此备份。<del><a href="">下载链接</a></del></p>
<p>11.运用 WP-PageNavi 分页导航插件;</p>
<p>12.最终还是没有添加版权信息，有试过Add Post URL插件，还不错。</p>
<p>此外，备份和在本地测试的方法已经学会，备份可以通过插件或是CPANEL。本地测试环境支持可用xampp。</p>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log1.2</title>
    <url>/post/2012-03-12-website-optimization-log1-2/</url>
    <content><![CDATA[<p>今天又折腾了下，优化了一些关键项目，还是挺高兴的。</p>
<p>此次优化项目：</p>
<p>1.添加回到顶部小工具；</p>
<p>2.改变评论框，提供某些社会化网站账号的登陆功能；</p>
<span id="more"></span>

<p>3.底部添加署名-非商业性使用-禁止演绎 2.5 中国大陆标签。</p>
<p>详情如下：</p>
<p>1.本来打算用改代码的方式修改，改来改去，都没有成功，只好寻找插件，最终选用 dynamic to top plugin；</p>
<p>P.S这个插件的设置在外观菜单中，害我在插件和设置菜单中找了很久。</p>
<p>2.评论框换了两次，第一次是想增加@user 类似twitter的功能，还有强化评论的使用和管理。找了两个插件，分别是 @ Reply 和 WordPress Thread Comment ，还更换了wordpress自带的表情，用 Custom Smilies ，表情包是在网上搜的。后来无意中点到一个支持部分社会化网站账号登陆的插件—— 多说 。虽然不支持饭否、twitter等之类的网站，不过在当下是足够用了。表情也很丰富。由于多说会覆盖掉之前的几个评论插件，所以取消了第一次的更改，直接只用了多说；</p>
<p>3.署名-非商业性使用-禁止演绎 2.5 中国大陆标签 ，好似没什么好说的。我就把代码直接复制到footer.php中。</p>
<p>接下来的优化任务：</p>
<p>1.寻求最佳备份方式；</p>
<p>2.主机到本地之间的转移测试。</p>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log1.5</title>
    <url>/post/2012-06-27-website-optimization-log1-5/</url>
    <content><![CDATA[<p>此次优化项目：</p>
<ol>
<li><p>wordpress版本更新至3.4；</p>
</li>
<li><p>增加wiki页面，不过还在完善中，暂不公布地址。</p>
</li>
</ol>
<p>详情略。</p>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>多借多贷的思考</title>
    <url>/post/2012-12-14-finance-the-thinking-of-multiple-debits-and-credits/</url>
    <content><![CDATA[<p>偶然看到一个会计中编制记账凭证的例题：</p>
<blockquote>
<p>12月31日，企业销售产品30,000，销项税额5,100（17%），收到部分货款10,000，其余暂未付清。原始单据有专用发票、提货单、收款单。请根据以上编制一张记账凭证。</p>
</blockquote>
<span id="more"></span>

<p>一般的都会先写会计分录：</p>
<blockquote>
<p>借：银行存款10,000<br>应收账款25,100<br>贷：主营业务收入30,000<br>应交税费——应缴增值税（销项）5,100</p>
</blockquote>
<p>接下来编制凭证，一般的企业都是通用记账凭证，这倒也还好，但是，如果企业是用的3种类型（收、付、转）或者5种类型（现收、银收、现付、银付、转）的记账凭证类型，那就出现问题了，编号时登记什么类型的凭证才合理呢？分录中是借方有银行存款，贷方没有，所以按理来说是登记3种类型中的收，或者是5种类型中的银收。但是收款凭证或者付款凭证都是一借或者一贷的形式，所以，这笔分录应该拆开来写：</p>
<blockquote>
<p>1、销售产品<br>借：应收账款35,100<br>贷：主营业务收入30,000<br>应交税费——应缴增值税（销项）5,100</p>
</blockquote>
<blockquote>
<p>2、收到货款<br>借：银行存款10,000<br>贷：应收账款10,000</p>
</blockquote>
<p>这样一来，就先编制一张转账凭证，再编制一张收款凭证。</p>
<p>其实，会计分录按照所涉及的账户多少，可分为一借一贷，一借多贷，一贷多借和多借多贷的会计分录。但是多借多贷的会计分录的对应关系不明晰，像上面的这个例题，在实际工作中，可能会给后续的会计核算工作带来麻烦，所以除特殊情况外，一般不建议使用。照如此看来，这个例题成了多此一举。可在《农村财务会计》期刊2010年7月的期刊中，有一篇多借多贷宜慎行的文章，作者向成生在文中引用了《农民专业合作社财务会计（试行）辅导读本》中的两个多借多贷的案例，其中一个案例如下：</p>
<blockquote>
<p>成员单位退社时，合作社应退给成员单位股金40,000元。合作社决定一台拖拉机和现金退还。退还时，拖拉机账面原价值30,000元，已提折旧4,000元，余款现金支付。</p>
</blockquote>
<p>在这个案例中，合作社股金、固定资产、累计折旧和库存现金同时减少，则会计分录为：</p>
<blockquote>
<p>借：股金—法人股金40,000<br>累计折旧4,000<br>贷：固定资产—拖拉机30,000<br>库存现金14,000</p>
</blockquote>
<p>其实上面的复合分录和拆分成：</p>
<blockquote>
<p>第一步：按照固定资产处置的要求，先将折抵退股股金的拖拉机转入清理，按拖拉机净值转入“固定资产清理”账户。</p>
<p>借：固定资产清理26,000<br>累计折旧4,000<br>贷：固定资产30,000</p>
</blockquote>
<blockquote>
<p>第二步：将转入“固定资产清理”账户的拖拉机净值再转入“股金”账户，冲减等值的股金数额，不足部分用库存现金兑付。</p>
<p>借：股金—法人股金40,000<br>贷：固定资产清理26,000<br>库存现金14,000</p>
</blockquote>
<p>文章作者提出，写复合分录是对合作社会计人员基础功的考验，但实际上有相当一部分会计人员根本就没有接触过会计业务，也没有接受过会计理论学习，对经济业务所涉及的会计科目难以准确确定，更别说直接按照复合分录填制记账凭证了。所以，复合分录是要谨慎推行，先易后难，逐步提高。</p>
<p>由此看来，多借多贷的复合分录还是不要轻易写出。</p>
]]></content>
      <categories>
        <category>财务</category>
      </categories>
      <tags>
        <tag>Accounting</tag>
      </tags>
  </entry>
  <entry>
    <title>网站优化log2.1</title>
    <url>/post/2014-07-26-website-optimization-log2-1/</url>
    <content><![CDATA[<p>年初给wordpress升了次级后，不知怎么搞的，突然就没办法发布新文章了。断断续续倒腾了几次无果，最终不了了之。前些日子无意点开以前收藏的octopress书签，一咬牙，决定投入octopress的怀抱。</p>
<span id="more"></span>

<p>此次优化项目：</p>
<p>1.使用octopress；</p>
<p>2.历史日志转移；</p>
<p>3.使用多说评论（历史评论同步出错，待处理）。</p>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log1.7</title>
    <url>/post/2013-07-29-website-optimization-log1-7/</url>
    <content><![CDATA[<p>此次优化项目：</p>
<ol>
<li><p>wordpress版本更新至3.5.2；</p>
</li>
<li><p>主题和其他插件更新；</p>
</li>
</ol>
<p>详情如下：</p>
<span id="more"></span>

<p>之前更新wordpress的时候都用得比较麻烦和保守的方法，这次偷了下懒，备份好网站文件和数据库后，直接在仪表盘的更新中点击更新，竟然成功了，而且没有出现问题。我想这应该只能针对小版本号的更新吧，如果版本更新动作比较大的话，还是要选择保守的方式。</p>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>无题</title>
    <url>/post/2015-05-01-Untitled/</url>
    <content><![CDATA[<p>如世之微尘，</p>
<p>飞洒飘荡。</p>
<p>如天之星辰，</p>
<p>闪烁不定。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>有关乎于友情</title>
    <url>/post/2013-01-22-something-about-friendship/</url>
    <content><![CDATA[<p>前几日无意逛知道的时候，提示有几个为我推荐的提问，点开发现一个有关人际关系和个性敏感的问题，当下就触到我了，于是在不知不觉中洋洋洒洒地写了几百字，大致如下：</p>
<span id="more"></span>

<blockquote>
<p>首先，你可能内心有点自卑，你没有足够的自信去把握住友情，你觉得山外有山，人外有人，你最要好的朋友总会有比你要好的朋友，另一方面，你太看重友情，视为救命稻草一般，所以你才会怕说错话，做错事。</p>
<p>其实，敏感不是病，也不是错，这是上天赐予你的一个性格，试想，如果普天下的人都一个样，那社会还有什么发展的前途而言，只有存在不同的个体，才组成了这个丰富多彩的社会。你要把你的敏感发挥出长处，比如，正是你的敏感，你才会细心，你才能洞察别人看不到的细节，所以你对事情会有独到的见解。</p>
<p>有时候，友情也靠一点缘分，有些人注定是成为不了真正的朋友，你也许会换很多朋友，也许会亲近了又疏远，疏远了又亲近，友情是你生活的一部分，但不是全部，你没有必要把自己的注意力集中在此，随性随缘地去面对他，玩得来就玩，玩不来就不玩，矛盾吵架该面对的面对，可以解决的就解决，这都是必经的过程，只有经历过某些，你才能找到自己真正的朋友，真正会在危急时刻帮助你的朋友。</p>
<p>我个人认为，情绪是相互影响的，如果你觉得尴尬，他们也会尴尬，你自己心态调整好了，也就不会担心这个问题了，也就不会有这些情况了。</p>
<p>人闲下来的时候就会想太多，你可以试着做些什么，一个人真正忙起来的时候，脑子里是容不下其他事情的，不知道你是在读书还是工作之类的，珍惜此刻的时光，认清自己当下该做的事情，朝着前方迈进，至于心理医生，我觉得你还不至于到那一步，真正有病的人是认不清自己的问题的。</p>
</blockquote>
<p>之所以我会有强烈的反应，是因为我高中经历了类似的事情，而且摸爬滚打几年以后，直至大学时期都要接近尾声了，才对这些有了一些新的感悟，虽不算非常完整，但也是一个突破。那些在午夜试探友情的电话，那些怕失去而太在乎的极端想法，在几年以后看来，都是幼稚的，幼稚又夹杂着必然和必须。老天在磨练我的意志，助我形成人生价值观。</p>
<p>我们在乎一些人，而一些人在乎我们，当这些人没有了交集，便是一个两极分化，不得好心的趋势。俗话说，识时务者为俊杰，我认为，友情也包括在内，作出我们觉得正确的抉择，继续还是放弃，让心有所选。</p>
]]></content>
      <categories>
        <category>随感</category>
      </categories>
  </entry>
  <entry>
    <title>无题</title>
    <url>/post/2015-05-21-Untitled/</url>
    <content><![CDATA[<p>妈蛋，<br>猴子偷了我的稀饭。</p>
<p>不管，<br>香蕉拿来分我一半。</p>
<p>难堪，<br>终会有人过来买单。</p>
<p>掰腕，<br>去接受傀儡的审判。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>无题</title>
    <url>/post/2016-03-13-Untitled/</url>
    <content><![CDATA[<p>流水似无情，</p>
<p>拨乱有几分。</p>
<p>梅花点点落，</p>
<p>拾来蓄单襟。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>夜晚的巴士</title>
    <url>/post/2015-09-06-in-the-night-bus/</url>
    <content><![CDATA[<p>霓虹闪烁染华市，</p>
<p>凉风吹拂沁心脾，</p>
<p>丝竹鸣鸣，</p>
<p>未受凄凄，</p>
<p>暖于心。</p>
]]></content>
      <categories>
        <category>吊针</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log4.1_升级Hexo和NexT</title>
    <url>/post/2021-09-01-website-optimization-log4-1/</url>
    <content><![CDATA[<p>一晃3年过去了，今天突然兴起想把网站进行更新。查询发现Hexo框架和Next主题的版本号都更新好几个了，我真是有点懒癌发作太长。</p>
<p>此次优化项目：</p>
<ol>
<li><p>升级Hexo；</p>
</li>
<li><p>升级NexT。</p>
</li>
</ol>
<p>关键点：</p>
<span id="more"></span>

<h2 id="升级Node-js"><a href="#升级Node-js" class="headerlink" title="升级Node.js"></a>升级Node.js</h2><p>Windows下不用能命令行进行升级，只能去官网下载安装更新。</p>
<h2 id="升级Hexo"><a href="#升级Hexo" class="headerlink" title="升级Hexo"></a>升级Hexo</h2><ol>
<li>进入Hexo的目录，检查Package的过期情况：</li>
</ol>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">npm outdated</span><br><span class="line"></span><br><span class="line">Package                  Current  Wanted  Latest  Location</span><br><span class="line">hexo                       <span class="number">3</span>.<span class="number">7</span>.<span class="number">0</span>   <span class="number">3</span>.<span class="number">7</span>.<span class="number">0</span>   <span class="number">5</span>.<span class="number">4</span>.<span class="number">0</span>  hexo-site</span><br></pre></td></tr></table></figure>

<p>  当前安装的版本Current &#x3D; Wanted &lt; Latest，这种状态即使强制更新也只会更新到Wanted这个所谓的指定的版本区间<br>  当前安装的版本Current &lt; Wanted &#x3D; Latest，这种状态是可以正常更新的</p>
<ol start="2">
<li>因为Hexo更新了大版本号，需要先修改根目录下package.json中的dependencies。若只是后面两位版本号有变更，如4.1.0 -&gt; 4.2.0，则可以不操作此步，直接输入npm update即可。</li>
</ol>
<p>  根据npm反馈的版本号对应修改package.json文件</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo-site&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;hexo&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5.4.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;hexo&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.4.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-deployer-git&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-archive&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-baidu-sitemap&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.1.9&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-category&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-search&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.4.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-searchdb&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.4.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-sitemap&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-generator-tag&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-ejs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-marked&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-renderer-stylus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-symbols-count-time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.7.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;hexo-wordcount&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.0.1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>全部改好了以后，用npm进行更新：</li>
</ol>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">npm install --save</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>完成后检查版本信息：</li>
</ol>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">hexo version</span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">hexo: 5.4.0</span></span><br></pre></td></tr></table></figure>

<h2 id="升级NexT"><a href="#升级NexT" class="headerlink" title="升级NexT"></a>升级NexT</h2><p>NexT也是大版本更新，官网给出了一些升级建议 <a href="https://github.com/theme-next/hexo-theme-next/blob/master/docs/UPDATE-FROM-5.1.X.md">链接</a></p>
<ol>
<li>克隆新的v7.x仓库到新目录中，如官网建议next-reloaded名称：</li>
</ol>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next-reloaded</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>修改Hexo的_config.yml文件中主题部分：</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">next-reloaded</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>进入主题配置文件_config.yml，配置相关设置。可对照旧的Next下的文件进行修改。</li>
</ol>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>网站优化log3.1</title>
    <url>/post/2018-09-29-website-optimization-log3-1/</url>
    <content><![CDATA[<p>时隔4年，我从Octopress的怀抱投向了Hexo。</p>
<p>08年买的联想老爷机不堪重负，为了保证基本的操作，中途把很多软件都卸载了，包括git和node.js。后忍痛重装了系统。自己一直也没能抽出时间和精力来折腾网站，导致它荒废2年多。一度想起要弄，看到Octopress已经被我改得乱七八糟了，心情又凉了半截。今天算是鼓起了非常大的干劲，花了大把时间，终于用上了Hexo。</p>
<span id="more"></span>

<p>Hexo操作不算复杂，通过查阅<a href="https://hexo.io/zh-cn/docs/">官方文档</a>，可以轻松上手。不过，我耗费了很多时间在主题的选择和配置上，在网上搜了很多其他博主的教程。到目前为止，基本算是成形了，其他待后续细细优化。</p>
<p>此次优化项目：</p>
<p>1.使用并配置Hexo；</p>
<p>2.历史日志转移。</p>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
  </entry>
  <entry>
    <title>网站优化log4.2_代替配置文件&amp;配置Valine</title>
    <url>/post/2022-03-21-website-optimization-log4-2/</url>
    <content><![CDATA[<p>此次优化项目：</p>
<ol>
<li><p>升级Hexo；</p>
</li>
<li><p>升级NexT；</p>
</li>
<li><p><del>尝试更换新主题；</del></p>
</li>
<li><p>更换评论系统为Valine。</p>
</li>
</ol>
<span id="more"></span>

<p>关键点：</p>
<h2 id="代替配置文件"><a href="#代替配置文件" class="headerlink" title="代替配置文件"></a>代替配置文件</h2><p>Hexo和NexT新版本的配置文件都存在不同程度更新，于是决定使用代替配置文件，以便后续更新时，不会被覆盖。</p>
<h3 id="Hexo配置文件"><a href="#Hexo配置文件" class="headerlink" title="Hexo配置文件"></a>Hexo配置文件</h3><p>在根目录下新建 <code>custom.yml</code> 文件，复制 <code>_config.yml</code> 中内容，并进行修改。</p>
<p>可以在hexo-cli中使用 <code>--config</code> 参数来指定自定义配置文件的路径。即后续在生成、启动服务器和部署时，都需要加上参数。</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">hexo generate --config custom.yml</span><br><span class="line"></span><br><span class="line">hexo server --config custom.yml</span><br><span class="line"></span><br><span class="line">hexo deploy --config custom.yml</span><br></pre></td></tr></table></figure>

<p>简写</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">hexo g -d --config custom.yml</span><br></pre></td></tr></table></figure>

<h3 id="主题配置文件"><a href="#主题配置文件" class="headerlink" title="主题配置文件"></a>主题配置文件</h3><ol>
<li>在Hexo配置文件中的 <code>theme_config</code> 中新增配置。以NexT为例。</li>
</ol>
  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.yml</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br><span class="line"><span class="attr">theme_config:</span></span><br><span class="line">  <span class="attr">bio:</span> <span class="string">&quot;My Website&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在根目录下新增独立的 <code>_config.[theme].yml</code> 文件，需要注意此特性从Hexo5.0开始提供。继续以NexT为例。</li>
</ol>
  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.yml</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure>

  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># _config.next.yml</span></span><br><span class="line"><span class="attr">bio:</span> <span class="string">&quot;My Website&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>Hexo在合并主题配置时，Hexo 配置文件中的 <code>theme_config</code> 的优先级最高，其次是 <code>_config.[theme].yml</code> 文件，最后是位于主题目录下的 <code>_config.yml</code> 文件。</p>
<h2 id="Valine配置"><a href="#Valine配置" class="headerlink" title="Valine配置"></a>Valine配置</h2><p>目前NexT8.x不支持Valine，根据搜索的结果得知同样基于LeanCloud，主题配置里自带LeanCloud的阅读统计功能会发生冲突。</p>
<h3 id="注册LeanCloud"><a href="#注册LeanCloud" class="headerlink" title="注册LeanCloud"></a>注册LeanCloud</h3><p>访问 <a href="https://console.leancloud.app/register">https://console.leancloud.app/register</a>，建议注册国际版账号，可省去一些麻烦。需验证邮箱和手机号，再进行下一步创建应用。</p>
<h3 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h3><p>进入控制台点击创建应用。</p>
<ul>
<li>应用名称：自由填写；</li>
<li>应用的计价方案：开发版；（个人网站基本够用）</li>
<li>应用描述：可不填。</li>
</ul>
<h3 id="创建Class"><a href="#创建Class" class="headerlink" title="创建Class"></a>创建Class</h3><p>进入控制台——数据存储——结构化数据，点击新建Class。</p>
<ol>
<li>查看评论：新建名为Comment，点击中间的无限制，其它默认；</li>
<li>统计阅读：新建名为Counter，其他同上。</li>
</ol>
<h3 id="安装Valine"><a href="#安装Valine" class="headerlink" title="安装Valine"></a>安装Valine</h3><p>NexT8.x没有自带Valine模块，需要另外安装。</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">npm install next-theme/hexo-next-valine</span><br></pre></td></tr></table></figure>

<p>Valine相关文件会下载至Hexo\node_modules\hexo-next-valine中，打开文件夹里的default.yaml，复制全部内容，粘贴到主题配置文件_config.yml里。</p>
<h3 id="修改-config-yml"><a href="#修改-config-yml" class="headerlink" title="修改_config.yml"></a>修改_config.yml</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Valine</span></span><br><span class="line"><span class="comment"># For more information: https://valine.js.org, https://github.com/xCss/Valine</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">appId:</span>  <span class="comment"># your leancloud application appid</span></span><br><span class="line">  <span class="attr">appKey:</span>  <span class="comment"># your leancloud application appkey</span></span><br><span class="line">  <span class="attr">serverURLs:</span> <span class="comment"># When the custom domain name is enabled, fill it in here</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># comment box placeholder</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mp</span> <span class="comment"># gravatar style</span></span><br><span class="line">  <span class="attr">meta:</span> [<span class="string">nick</span>, <span class="string">mail</span>, <span class="string">link</span>] <span class="comment"># Custom comment header</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># pagination size</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span> <span class="comment"># leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors&#x27; for counter compatibility. Article reading statistic https://valine.js.org/visitor.html</span></span><br><span class="line">  <span class="attr">comment_count:</span> <span class="literal">true</span> <span class="comment"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line">  <span class="attr">recordIP:</span> <span class="literal">false</span> <span class="comment"># Whether to record the commenter IP</span></span><br></pre></td></tr></table></figure>

<ol>
<li>从LeanCloud控制台——设置——应用凭证中复制粘贴 <code>appId</code> 和 <code>appKey</code>；</li>
<li><code>avatar</code> 处疑似错误，应由 <code>mm</code> 改成 <code>mp</code>；</li>
<li>如果后续出现 <code>Code 401: 未经授权的操作,请检查你的AppId和AppKey</code>，可复制粘贴 <code>REST API 服务器地址</code> 到 <code>serverURLs</code>；（本次未出现）</li>
<li>如需启用主题配置里自带LeanCloud的阅读统计功能，参照上方填写。（本次未启用）</li>
</ol>
<h3 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h3><p>以下为搜索备查，实际本次未发现冲突。</p>
<ol>
<li>Valine、LeanCloud和busuanzi的统计有冲突。</li>
</ol>
  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span>  <span class="comment"># 关闭</span></span><br><span class="line"><span class="attr">leancloud_visitors:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># 打开</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_visitors_icon:</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_views_icon:</span> <span class="string">fa</span> <span class="string">fa-eye</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">false</span>  <span class="comment"># 关闭</span></span><br><span class="line">  <span class="attr">post_views_icon:</span> <span class="string">far</span> <span class="string">fa-eye</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>如果在阅读统计中出现 <code>Counter not initialized! More info at console err msg.</code>。</li>
</ol>
  <figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>  <span class="comment"># 必须开</span></span><br><span class="line">  <span class="attr">security:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<hr>
<p><strong>参考</strong></p>
<ul>
<li><a href="https://github.com/next-theme/hexo-next-valine">hexo-next-valine</a></li>
<li><a href="https://valine.js.org/">Valine主页</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/424932976">Next主题设置-安装Valine和Artitalk</a></li>
</ul>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>NexT</tag>
        <tag>Valine</tag>
      </tags>
  </entry>
  <entry>
    <title>网站优化log4.4_美化NexT</title>
    <url>/post/2022-03-28-website-optimization-log4-4/</url>
    <content><![CDATA[<p>此次优化项目：</p>
<ol>
<li>修改NexT主题布局和配色。</li>
</ol>
<p>关键点：</p>
<span id="more"></span>

<h2 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h2><p>取消注释NexT主题配置文件中的 <code>variable</code> <code>mixin</code> <code>style</code> 行。</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Define custom file paths.</span></span><br><span class="line"><span class="comment"># Create your custom files in site directory `source/_data` and uncomment needed files below.</span></span><br><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.njk</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.njk</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.njk</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.njk</span></span><br><span class="line">  <span class="comment">#postBodyEnd: source/_data/post-body-end.njk</span></span><br><span class="line">  <span class="comment">#footer: source/_data/footer.njk</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.njk</span></span><br><span class="line">  <span class="attr">variable:</span> <span class="string">source/_data/variables.styl</span></span><br><span class="line">  <span class="attr">mixin:</span> <span class="string">source/_data/mixins.styl</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">source/_data/styles.styl</span></span><br></pre></td></tr></table></figure>

<h2 id="创建并修改对应styl文件"><a href="#创建并修改对应styl文件" class="headerlink" title="创建并修改对应styl文件"></a>创建并修改对应styl文件</h2><p>在本地根目录的 <code>\source\_data</code> 下新建对应3个文件。</p>
<p>写法参照NexT主题目录 <code>\source\css</code> 中的文件。</p>
<h2 id="选取配色"><a href="#选取配色" class="headerlink" title="选取配色"></a>选取配色</h2><p>通过搜索中国传统颜色，选取了苍蓝作为了主要主题色，并分别向深浅递进了几个颜色。最终由深到浅分别是：钢蓝——鸽蓝——灰蓝——苍蓝——鸢尾蓝——清水蓝。接着把正黑和正白替换成了莽丛绿和月白。具体颜色代码可参见下方。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#0f1423</span> // 钢蓝</span><br><span class="line"><span class="selector-id">#1c2938</span> // 鸽蓝</span><br><span class="line"><span class="selector-id">#21373d</span> // 灰蓝</span><br><span class="line"><span class="selector-id">#134857</span> // 苍蓝</span><br><span class="line"><span class="selector-id">#158bb8</span> // 鸢尾蓝</span><br><span class="line"><span class="selector-id">#93d5dc</span> // 清水蓝</span><br><span class="line"><span class="selector-id">#141e1b</span> // 莽丛绿</span><br><span class="line"><span class="selector-id">#eef7f2</span> // 月白</span><br></pre></td></tr></table></figure>

<hr>
<p>参考</p>
<ul>
<li><a href="https://github.com/leirock/blog">Github - leirock&#x2F;blog</a></li>
</ul>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>NexT</tag>
      </tags>
  </entry>
  <entry>
    <title>网站优化log4.3_配置Waline</title>
    <url>/post/2022-03-22-website-optimization-log4-3/</url>
    <content><![CDATA[<p>看到网上说Valine有一些问题：</p>
<ol>
<li>源码不开放；</li>
<li>XSS安全；</li>
<li>隐私泄露。</li>
</ol>
<p>于是搜索到了 <a href="https://waline.js.org/">Waline</a>。官网介绍写到，它是由Valine衍生的带后端的评论系统。除解决了安全问题外，还增强了其他功能。</p>
<span id="more"></span>

<p>此次优化项目：</p>
<ol>
<li>更换评论系统为Waline。</li>
</ol>
<p>关键点：</p>
<h2 id="Waline配置"><a href="#Waline配置" class="headerlink" title="Waline配置"></a>Waline配置</h2><h3 id="注册LeanCloud"><a href="#注册LeanCloud" class="headerlink" title="注册LeanCloud"></a>注册LeanCloud</h3><p>访问 <a href="https://console.leancloud.app/register">https://console.leancloud.app/register</a>，建议注册国际版账号，可省去一些麻烦。需验证邮箱和手机号，再进行下一步创建应用。</p>
<h3 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h3><p>进入控制台点击创建应用。</p>
<ul>
<li>应用名称：自由填写；</li>
<li>应用的计价方案：开发版；（个人网站基本够用）</li>
<li>应用描述：可不填。</li>
</ul>
<h3 id="部署Vercel服务端"><a href="#部署Vercel服务端" class="headerlink" title="部署Vercel服务端"></a>部署Vercel服务端</h3><ol>
<li>点击Waline文档中 <a href="https://waline.js.org/guide/get-started.html#vercel-%E9%83%A8%E7%BD%B2-%E6%9C%8D%E5%8A%A1%E7%AB%AF">Vercel部署(服务端)</a> 下的Deploy按钮，跳转至Vercel；</li>
<li>用GitHub账户注册登陆后，输入一个你喜欢的项目名称并点击Create继续；</li>
<li>等待一段时间后，出现Congratulations页面表示创建成功；</li>
<li>进入Dashboard，点击顶部的 <code>Settings - Environment Variables</code> 进入环境变量配置页，并配置三个环境变量 <code>LEAN_ID</code>, <code>LEAN_KEY</code> 和 <code>LEAN_MASTER_KEY</code> 。它们的值分别对应上一步在LeanCloud中获得的 <code>APP ID</code>, <code>APP KEY</code>, <code>Master Key</code>;</li>
<li>点击顶部的 <code>Deployments</code>，再点击顶部最新的一次部署右侧的 <code>Redeploy</code> 按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效;</li>
<li>等待Overview界面部署，直到STATUS会变成 <code>Ready</code>。再点击Visit，可跳转到部署好的网站地址，也就是你的服务端地址。</li>
</ol>
<h3 id="安装Waline"><a href="#安装Waline" class="headerlink" title="安装Waline"></a>安装Waline</h3><p>NexT8.x没有自带Valine模块，需要另外安装。</p>
<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line">npm install @waline/hexo-next</span><br></pre></td></tr></table></figure>

<p>Waline相关文件会下载至Hexo\node_modules@Waline\hexo-next中，打开文件夹里的default.yaml，复制全部内容，粘贴到主题配置文件_config.yml里。</p>
<h3 id="修改-config-yml"><a href="#修改-config-yml" class="headerlink" title="修改_config.yml"></a>修改_config.yml</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Waline</span></span><br><span class="line"><span class="comment"># For more information: https://waline.js.org, https://github.com/walinejs/waline</span></span><br><span class="line"><span class="attr">waline:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">serverURL:</span> <span class="string">https://waline.vercel.app</span> <span class="comment"># Waline server address url</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># Comment box placeholder</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mm</span> <span class="comment"># Gravatar style</span></span><br><span class="line">  <span class="attr">meta:</span> [<span class="string">nick</span>, <span class="string">mail</span>, <span class="string">link</span>] <span class="comment"># Custom comment header</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># Pagination size</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="comment"># Language, available values: en, zh-cn</span></span><br><span class="line">  <span class="comment"># Warning: Do not enable both `waline.visitor` and `leancloud_visitors`.</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span> <span class="comment"># Article reading statistic</span></span><br><span class="line">  <span class="attr">comment_count:</span> <span class="literal">true</span> <span class="comment"># If false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line">  <span class="attr">requiredFields:</span> [] <span class="comment"># Set required fields: [nick] | [nick, mail]</span></span><br><span class="line">  <span class="attr">libUrl:</span> <span class="comment"># Set custom library cdn url</span></span><br></pre></td></tr></table></figure>

<ol>
<li>enable改为true；</li>
<li>从Vercel中复制粘贴 <code>serverURL</code>；</li>
<li><code>avatar</code> 处疑似错误，应由 <code>mm</code> 改成 <code>mp</code>；</li>
<li>其他参数可查阅Waline文档增减。</li>
</ol>
<h3 id="注册管理"><a href="#注册管理" class="headerlink" title="注册管理"></a>注册管理</h3><ol>
<li>部署完成后，访问 <serverURL>&#x2F;ui&#x2F;register 进行注册。首个注册的人会被设定成管理员。</li>
<li>管理员登陆后，即可看到评论管理界面。可以修改、标记或删除评论。</li>
</ol>
<hr>
<p><strong>参考</strong></p>
<ul>
<li><a href="https://waline.js.org/">Waline主页</a></li>
<li><a href="https://www.npmjs.com/package/@waline/hexo-next">@waline&#x2F;hexo-next - npm</a></li>
</ul>
]]></content>
      <categories>
        <category>网站LOG</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>NexT</tag>
        <tag>Waline</tag>
      </tags>
  </entry>
</search>
